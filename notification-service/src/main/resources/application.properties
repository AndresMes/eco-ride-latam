server.port=8084

spring.application.name=notification-service
management.endpoints.web.exposure.include=*
management.endpoint.prometheus.enabled=true

# ============ DATABASE (PostgreSQL + R2DBC) ============
spring.r2dbc.url=r2dbc:postgresql://localhost:5432/notificationService
spring.r2dbc.username=postgres
spring.r2dbc.password=123456

# JDBC para Flyway
spring.datasource.url=jdbc:postgresql://localhost:5432/notificationService
spring.datasource.username=postgres
spring.datasource.password=123456

# ============ FLYWAY ============
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.url=jdbc:postgresql://localhost:5432/notificationService
spring.flyway.user=postgres
spring.flyway.password=123456
spring.flyway.validate-on-migrate=true

# ============ RABBITMQ ============
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest

# ============ MAIL (SMTP) ============
# Gmail example - Usa una app password si tienes 2FA habilitado
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=sebacastro2014.sc@gmail.com
spring.mail.password=znla fjvg obsf fmbi
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=10000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000

# Email sender
notification.email.from=sebacastro2014.sc@gmail.com

# ============ RABBITMQ EXCHANGES ============
ecoride.rabbitmq.exchanges.reservation=reservation.exchange
ecoride.rabbitmq.exchanges.payment=payment.exchange
ecoride.rabbitmq.exchanges.trip=trip.exchange
ecoride.rabbitmq.exchanges.notification=notification.exchange

# ============ RABBITMQ QUEUES ============
ecoride.rabbitmq.queues.notification-reservationConfirmed=notification.reservationConfirmed.queue
ecoride.rabbitmq.queues.notification-reservationCancelled=notification.reservationCancelled.queue
ecoride.rabbitmq.queues.notification-paymentAuthorized=notification.paymentAuthorized.queue
ecoride.rabbitmq.queues.notification-paymentFailed=notification.paymentFailed.queue

# ============ RABBITMQ ROUTING KEYS ============
ecoride.rabbitmq.routing-keys.notification-reservationConfirmed=notification.reservationConfirmed
ecoride.rabbitmq.routing-keys.notification-reservationCancelled=notification.reservationCancelled
ecoride.rabbitmq.routing-keys.notification-paymentAuthorized=payment.authorized
ecoride.rabbitmq.routing-keys.notification-paymentFailed=payment.failed

# ============ SPRING CLOUD ============
spring.cloud.config.enabled=false

# ============ EUREKA CLIENT ============
eureka.client.service-url.default-zone=http://localhost:8761/eureka
eureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}

# ============ LOGGING ============
logging.level.root=INFO
logging.level.edu.unimagdalena=DEBUG
logging.level.org.springframework.amqp=DEBUG
logging.level.org.springframework.mail=DEBUG